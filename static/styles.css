#root {
  height: 100%;
  font-family: "Atkinson Hyperlegible", sans-serif;
  font-size: 14px;
  padding: 10px;
}

.block {
  display: grid;
  grid-template-columns: auto 1fr;
  padding: 5px 5px 5px 7px;
  min-height: 15px;
  box-sizing: content-box;
  background: #f6f6f6;
  &:focus {
    background: #e8f0fe;
  }
}

.code,
.block,
.value {
  grid-column: 1 / 3;
}

.key + :is(.code, .block, .value) {
  grid-column: auto;
  border-left-width: 0;
}

.code,
.block,
.value,
.key {
  position: relative;
  outline: none;
  border: 1px solid #ddd;
  border-left-width: 5px;
  border-bottom-width: 0;
  > *:last-child,
  > .key:nth-last-child(2) {
    border-bottom-width: 1px;
    margin-bottom: 0 !important;
  }
  &:focus {
    z-index: 10;
    border-color: #0b57d0;
    border-bottom-width: 1px;
    margin-bottom: -1px;
  }
  &:has(:focus) {
    background: #e8f0fe;
  }
}

#root > .block {
  border-bottom-width: 1px;
}

.expr,
.value,
.key {
  padding: 2px 5px;
  min-height: 21px;
  box-sizing: content-box;
  background: #fff;
}

.key {
  display: block;
  background: #ddd;
  border-right-width: 0;
  &:focus {
    background: #a8c7fa;
    border-right-width: 1px;
    margin-right: -1px;
  }
  &:has(+ :focus) {
    z-index: 10;
    background: #a8c7fa;
    border-color: #0b57d0;
    border-bottom-width: 1px;
    margin-bottom: -1px;
  }
}

input {
  background: #e8f0fe !important;
}

.code {
  &:focus {
    border-color: #188038;
  }
  &:has(:focus) {
    border-color: #188038;
  }
  .expr {
    border: 5px solid #e6f4ea;
    border-bottom-width: 0;
  }
  :nth-child(2) {
    background: #e6f4ea;
    border-width: 0;
  }
}

.expr {
  outline: none;
}
